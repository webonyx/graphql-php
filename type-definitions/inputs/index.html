
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="PHP implementation of the GraphQL specification">
      
      
      
      
        <link rel="prev" href="../unions/">
      
      
        <link rel="next" href="../directives/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.6">
    
    
      
        <title>Inputs - graphql-php</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#input-object-type-definition" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="graphql-php" class="md-header__button md-logo" aria-label="graphql-php" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            graphql-php
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Inputs
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/webonyx/graphql-php" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    webonyx/graphql-php
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="graphql-php" class="md-nav__button md-logo" aria-label="graphql-php" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    graphql-php
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/webonyx/graphql-php" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    webonyx/graphql-php
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/" class="md-nav__link">
        Concepts
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../complementary-tools/" class="md-nav__link">
        Complementary Tools
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../schema-definition/" class="md-nav__link">
        Schema Definition
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
        <label class="md-nav__link" for="__nav_6" tabindex="0" aria-expanded="true">
          Type Definitions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Type Definitions" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Type Definitions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../object-types/" class="md-nav__link">
        Object Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scalars/" class="md-nav__link">
        Scalars
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lists-and-nonnulls/" class="md-nav__link">
        Lists and Non-Nulls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/" class="md-nav__link">
        Interfaces
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../unions/" class="md-nav__link">
        Unions
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Inputs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Inputs
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#writing-input-object-types" class="md-nav__link">
    Writing Input Object Types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-options" class="md-nav__link">
    Configuration options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-input-object-type" class="md-nav__link">
    Using Input Object Type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#converting-input-array-to-value-object" class="md-nav__link">
    Converting Input Array to Value Object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-isoneof-configuration-option" class="md-nav__link">
    Using the isOneOf Configuration Option
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../directives/" class="md-nav__link">
        Directives
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../schema-definition-language/" class="md-nav__link">
        Schema Definition Language
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../executing-queries/" class="md-nav__link">
        Executing Queries
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../data-fetching/" class="md-nav__link">
        Fetching Data
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../error-handling/" class="md-nav__link">
        Handling Errors
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../security/" class="md-nav__link">
        Security
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../class-reference/" class="md-nav__link">
        Class Reference
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#writing-input-object-types" class="md-nav__link">
    Writing Input Object Types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-options" class="md-nav__link">
    Configuration options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-input-object-type" class="md-nav__link">
    Using Input Object Type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#converting-input-array-to-value-object" class="md-nav__link">
    Converting Input Array to Value Object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-isoneof-configuration-option" class="md-nav__link">
    Using the isOneOf Configuration Option
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<h1 id="input-object-type-definition">Input Object Type Definition<a class="headerlink" href="#input-object-type-definition" title="Permanent link">&para;</a></h1>
<p>The GraphQL specification defines the Input Object type for complex inputs.
It is similar to the Object type, but its fields have no <strong>args</strong> or <strong>resolve</strong> options and their <strong>type</strong> must be input type.</p>
<h2 id="writing-input-object-types">Writing Input Object Types<a class="headerlink" href="#writing-input-object-types" title="Permanent link">&para;</a></h2>
<p>In graphql-php, <strong>Input Object Type</strong> is an instance of <code>GraphQL\Type\Definition\InputObjectType</code>
(or one of its subclasses) which accepts configuration array in its constructor:</p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="nx">GraphQL\Type\Definition\Type</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">GraphQL\Type\Definition\InputObjectType</span><span class="p">;</span>

<span class="nv">$filters</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">InputObjectType</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;StoryFiltersInput&#39;</span><span class="p">,</span>
    <span class="s1">&#39;fields&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;author&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nx">Type</span><span class="o">::</span><span class="na">id</span><span class="p">(),</span>
            <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Only show stories with this author id&#39;</span>
        <span class="p">],</span>
        <span class="s1">&#39;popular&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nx">Type</span><span class="o">::</span><span class="na">boolean</span><span class="p">(),</span>
            <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Only show popular stories (liked by several people)&#39;</span>
        <span class="p">],</span>
        <span class="s1">&#39;tags&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nx">Type</span><span class="o">::</span><span class="na">listOf</span><span class="p">(</span><span class="nx">Type</span><span class="o">::</span><span class="na">string</span><span class="p">()),</span>
            <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Only show stories which contain all of those tags&#39;</span>
        <span class="p">]</span>
    <span class="p">]</span>
<span class="p">]);</span>
</code></pre></div>
<p>Every field may be of other InputObjectType (thus complex hierarchies of inputs are possible)</p>
<h2 id="configuration-options">Configuration options<a class="headerlink" href="#configuration-options" title="Permanent link">&para;</a></h2>
<p>The constructor of <code>InputObjectType</code> accepts an <code>array</code> with the following options:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td><code>string</code></td>
<td><strong>Required.</strong> Unique name of this object type within Schema</td>
</tr>
<tr>
<td>description</td>
<td><code>string</code></td>
<td>Plain-text description of this type for clients (e.g. used by <a href="https://github.com/graphql/graphiql">GraphiQL</a> for auto-generated documentation)</td>
</tr>
<tr>
<td>isOneOf</td>
<td><code>bool</code></td>
<td>Indicates that an Input Object is a OneOf Input Object (and thus requires exactly one of its fields be provided).</td>
</tr>
<tr>
<td>parseValue</td>
<td><code>callable(array&lt;string, mixed&gt;): mixed</code></td>
<td>Converts incoming values from their array representation to something else (e.g. a value object)</td>
</tr>
<tr>
<td>fields</td>
<td><code>iterable&lt;FieldConfig&gt;</code> or <code>callable(): iterable&lt;FieldConfig&gt;</code></td>
<td><strong>Required</strong>. An iterable describing object fields or callable returning such an iterable (see below).</td>
</tr>
</tbody>
</table>
<p>Every entry in <code>fields</code> is an array with following entries:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td><code>string</code></td>
<td><strong>Required.</strong> Name of the input field. When not set - inferred from <strong>fields</strong> array key</td>
</tr>
<tr>
<td>type</td>
<td><code>Type</code></td>
<td><strong>Required.</strong> Instance of one of <a href="./">Input Types</a> (<strong>Scalar</strong>, <strong>Enum</strong>, <strong>InputObjectType</strong> + any combination of those with <strong>nonNull</strong> and <strong>listOf</strong> modifiers)</td>
</tr>
<tr>
<td>defaultValue</td>
<td><code>scalar</code></td>
<td>Default value of this input field. Use the internal value if specifying a default for an <strong>enum</strong> type</td>
</tr>
<tr>
<td>description</td>
<td><code>string</code></td>
<td>Plain-text description of this input field for clients (e.g. used by <a href="https://github.com/graphql/graphiql">GraphiQL</a> for auto-generated documentation)</td>
</tr>
<tr>
<td>deprecationReason</td>
<td><code>string</code></td>
<td>Plain-test reason for why this input field is deprecated.</td>
</tr>
</tbody>
</table>
<h2 id="using-input-object-type">Using Input Object Type<a class="headerlink" href="#using-input-object-type" title="Permanent link">&para;</a></h2>
<p>In the example above we defined our InputObjectType <code>StoryFiltersInput</code>.
Now let's use it in one of field arguments:</p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="nx">GraphQL\Type\Definition\Type</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">GraphQL\Type\Definition\ObjectType</span><span class="p">;</span>

<span class="nv">$queryType</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ObjectType</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Query&#39;</span><span class="p">,</span>
    <span class="s1">&#39;fields&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;stories&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nx">Type</span><span class="o">::</span><span class="na">listOf</span><span class="p">(</span><span class="nv">$storyType</span><span class="p">),</span>
            <span class="s1">&#39;args&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                <span class="s1">&#39;filters&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nv">$filters</span><span class="p">,</span>
                    <span class="s1">&#39;defaultValue&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                        <span class="s1">&#39;popular&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
                    <span class="p">],</span>
                <span class="p">],</span>
            <span class="p">],</span>
            <span class="s1">&#39;resolve&#39;</span> <span class="o">=&gt;</span> <span class="nx">fn</span> <span class="p">(</span><span class="nv">$rootValue</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$args</span><span class="p">)</span><span class="o">:</span> <span class="k">array</span> <span class="o">=&gt;</span> <span class="nx">DataSource</span><span class="o">::</span><span class="na">filterStories</span><span class="p">(</span><span class="nv">$args</span><span class="p">[</span><span class="s1">&#39;filters&#39;</span><span class="p">]),</span>
        <span class="p">],</span>
    <span class="p">],</span>
<span class="p">]);</span>
</code></pre></div>
<p>You can define <strong>defaultValue</strong> for fields with complex inputs as an associative array.</p>
<p>Then GraphQL query could include filters as a literal value:</p>
<div class="highlight"><pre><span></span><code>{
  stories(filters: {
    author: &quot;1&quot;
    popular: false
  }) {
    ...
  }
}
</code></pre></div>
<p>Or as a query variable:</p>
<div class="highlight"><pre><span></span><code>query ($filters: StoryFiltersInput!) {
  stories(filters: $filters) {
    ...
  }
}
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;filters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;author&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;popular&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>graphql-php</strong> will validate the input against your InputObjectType definition and pass it to your resolver as <code>$args['filters']</code>.</p>
<h2 id="converting-input-array-to-value-object">Converting Input Array to Value Object<a class="headerlink" href="#converting-input-array-to-value-object" title="Permanent link">&para;</a></h2>
<p>If you want more type safety you can choose to parse the input array into a value object.</p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="nx">GraphQL\Type\Definition\Type</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">GraphQL\Type\Definition\InputObjectType</span><span class="p">;</span>

<span class="k">final</span> <span class="nx">readonly</span> <span class="k">class</span> <span class="nc">StoryFiltersInput</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span>
        <span class="k">public</span> <span class="nx">string</span> <span class="nv">$author</span><span class="p">,</span>
        <span class="k">public</span> <span class="o">?</span><span class="nx">bool</span> <span class="nv">$popular</span><span class="p">,</span>
        <span class="sd">/** @var array&lt;string&gt; */</span>
        <span class="k">public</span> <span class="k">array</span> <span class="nv">$tags</span>
    <span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>

<span class="nv">$filters</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">InputObjectType</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;StoryFiltersInput&#39;</span><span class="p">,</span>
    <span class="s1">&#39;fields&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;author&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nx">Type</span><span class="o">::</span><span class="na">nonNull</span><span class="p">(</span><span class="nx">Type</span><span class="o">::</span><span class="na">string</span><span class="p">()),</span>
        <span class="p">],</span>
        <span class="s1">&#39;popular&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nx">Type</span><span class="o">::</span><span class="na">boolean</span><span class="p">(),</span>
        <span class="p">],</span>
        <span class="s1">&#39;tags&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nx">Type</span><span class="o">::</span><span class="na">nonNull</span><span class="p">(</span><span class="nx">Type</span><span class="o">::</span><span class="na">listOf</span><span class="p">(</span><span class="nx">Type</span><span class="o">::</span><span class="na">string</span><span class="p">())),</span>
        <span class="p">]</span>
    <span class="p">],</span>
    <span class="s1">&#39;parseValue&#39;</span> <span class="o">=&gt;</span> <span class="nx">fn</span> <span class="p">(</span><span class="k">array</span> <span class="nv">$values</span><span class="p">)</span><span class="o">:</span> <span class="nx">StoryFiltersInput</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">StoryFiltersInput</span><span class="p">(</span>
        <span class="nx">author</span><span class="o">:</span> <span class="nv">$values</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">],</span>
        <span class="nx">popular</span><span class="o">:</span> <span class="nv">$values</span><span class="p">[</span><span class="s1">&#39;popular&#39;</span><span class="p">]</span> <span class="o">??</span> <span class="k">null</span><span class="p">,</span>
        <span class="nx">tags</span><span class="o">:</span> <span class="nv">$values</span><span class="p">[</span><span class="s1">&#39;tags&#39;</span><span class="p">],</span>
    <span class="p">),</span>
<span class="p">]);</span>
</code></pre></div>
<p>The value of <code>$args['filters']</code> will now be an instance of <code>StoryFiltersInput</code>.</p>
<p>The incoming values are converted using a depth-first traversal.
Thus, nested input values will be passed through their respective <code>parseValue</code> functions before the parent receives their value.</p>
<h2 id="using-the-isoneof-configuration-option">Using the <code>isOneOf</code> Configuration Option<a class="headerlink" href="#using-the-isoneof-configuration-option" title="Permanent link">&para;</a></h2>
<p>The <code>isOneOf</code> configuration option allows you to declare an input object as a <em>OneOf Input Object</em>.
This means that exactly one of its fields must be provided when the input is used.
This is useful when an argument can accept several alternative values, but never more than one at the same time.</p>
<p>Suppose you want to allow a query to filter stories either by author <strong>or</strong> by tag, but not both together.
You can define an input object with <code>isOneOf: true</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="nx">GraphQL\Type\Definition\Type</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">GraphQL\Type\Definition\InputObjectType</span><span class="p">;</span>

<span class="nv">$storySearch</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">InputObjectType</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;StorySearchInput&#39;</span><span class="p">,</span>
    <span class="s1">&#39;isOneOf&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="s1">&#39;fields&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;author&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nx">Type</span><span class="o">::</span><span class="na">id</span><span class="p">(),</span>
            <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Find stories by a specific author&#39;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="s1">&#39;tag&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nx">Type</span><span class="o">::</span><span class="na">string</span><span class="p">(),</span>
            <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Find stories with a specific tag&#39;</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">],</span>
<span class="p">]);</span>
</code></pre></div>
<p>This input object can then be used as an argument in a query:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$searchType</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ObjectType</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Query&#39;</span><span class="p">,</span>
    <span class="s1">&#39;fields&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;searchStories&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nx">Type</span><span class="o">::</span><span class="na">listOf</span><span class="p">(</span><span class="nv">$storyType</span><span class="p">),</span>
            <span class="s1">&#39;args&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                <span class="s1">&#39;search&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nv">$storySearch</span><span class="p">,</span>
                <span class="p">],</span>
            <span class="p">],</span>
            <span class="s1">&#39;resolve&#39;</span> <span class="o">=&gt;</span> <span class="nx">fn</span> <span class="p">(</span><span class="nv">$rootValue</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$args</span><span class="p">)</span><span class="o">:</span> <span class="k">array</span> <span class="o">=&gt;</span> <span class="nx">DataSource</span><span class="o">::</span><span class="na">searchStories</span><span class="p">(</span><span class="nv">$args</span><span class="p">[</span><span class="s1">&#39;search&#39;</span><span class="p">]),</span>
        <span class="p">],</span>
    <span class="p">],</span>
<span class="p">]);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>{
  searchStories(search: { author: &quot;1&quot; }) {
    id
    title
  }
}
</code></pre></div>
<p>If you try to provide both fields at once, validation will fail:</p>
<div class="highlight"><pre><span></span><code>{
  searchStories(search: { author: &quot;1&quot;, tag: &quot;php&quot; }) {
    id
    title
  }
}
</code></pre></div>
<p><strong>graphql-php</strong> ensures that with <code>isOneOf: true</code>, exactly one field is set.
This helps make APIs clearer and less error-prone when alternative inputs are required.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.51d95adb.min.js"></script>
      
    
  </body>
</html>